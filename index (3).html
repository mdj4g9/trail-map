
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Trail Map + Elevation</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <script src="https://unpkg.com/maplibre-gl@2.4.0/dist/maplibre-gl.js"></script>
    <link href="https://unpkg.com/maplibre-gl@2.4.0/dist/maplibre-gl.css" rel="stylesheet" />
    <script src="https://cdn.plot.ly/plotly-2.26.0.min.js"></script>
    <style>
        body {
            margin: 0;
            font-family: system-ui, sans-serif;
            background: #fff;
        }
        #map {
            height: 60vh;
            width: 100%;
        }
        #elevation {
            height: 25vh;
            width: 100%;
            padding: 0 10px;
        }
    </style>
</head>
<body>

<div id="map"></div>
<div id="elevation"></div>

<script>
    const trailData = [{"lat": 39.86919164657593, "lon": -86.03384971618652, "elevation": 228.14, "distance_km": 0.0}, {"lat": 39.869041442871094, "lon": -86.03397846221924, "elevation": 228.16, "distance_km": 0.019986717746052964}, {"lat": 39.86895561218262, "lon": -86.03412866592407, "elevation": 228.25, "distance_km": 0.035985690662862856}, {"lat": 39.86889123916626, "lon": -86.03451490402222, "elevation": 228.32, "distance_km": 0.06979516791023448}, {"lat": 39.868783950805664, "lon": -86.03475093841553, "elevation": 228.3, "distance_km": 0.09324128236935582}, {"lat": 39.86854791641235, "lon": -86.03496551513672, "elevation": 228.46, "distance_km": 0.12523918022140756}, {"lat": 39.868387235328555, "lon": -86.03499761782587, "elevation": 228.56, "distance_km": 0.143290125775305}, {"lat": 39.868226051330566, "lon": -86.03502988815308, "elevation": 228.65, "distance_km": 0.16139844451205196}, {"lat": 39.86809730529785, "lon": -86.03511571884155, "elevation": 228.79, "distance_km": 0.17746929451728993}, {"lat": 39.867932768538594, "lon": -86.0353016294539, "elevation": 228.97, "distance_km": 0.20169235843030328}, {"lat": 39.86776823177934, "lon": -86.03548762388527, "elevation": 229.06, "distance_km": 0.22592015664083492}, {"lat": 39.86760377883911, "lon": -86.03567361831665, "elevation": 229.14, "distance_km": 0.2501409626006287}, {"lat": 39.867539405822754, "lon": -86.03580236434937, "elevation": 229.19, "distance_km": 0.2632719872176207}, {"lat": 39.86746413633227, "lon": -86.03600646369159, "elevation": 229.2, "distance_km": 0.2826312947397606}, {"lat": 39.86738920211792, "lon": -86.03621006011963, "elevation": 229.2, "distance_km": 0.3019357420128543}, {"lat": 39.867281913757324, "lon": -86.0362958908081, "elevation": 229.24, "distance_km": 0.31592983389161894}, {"lat": 39.86717462539673, "lon": -86.0362958908081, "elevation": 229.35, "distance_km": 0.3278422839603295}, {"lat": 39.86703506670892, "lon": -86.03612414561212, "elevation": 229.67, "distance_km": 0.34919725878088137}, {"lat": 39.86689567565918, "lon": -86.0359525680542, "elevation": 230.1, "distance_km": 0.3705288784904758}, {"lat": 39.86661672592163, "lon": -86.03590965270996, "elevation": 230.55, "distance_km": 0.4017181365552807}, {"lat": 39.866509437561035, "lon": -86.0358452796936, "elevation": 230.99, "distance_km": 0.4148422247417303}, {"lat": 39.86642360687256, "lon": -86.0358452796936, "elevation": 231.41, "distance_km": 0.42437218354121126}, {"lat": 39.8663592338562, "lon": -86.03590965270996, "elevation": 231.8, "distance_km": 0.43339558207622575}, {"lat": 39.8663592338562, "lon": -86.03621006011963, "elevation": 232.06, "distance_km": 0.45909846886481764}, {"lat": 39.866273403167725, "lon": -86.03636026382446, "elevation": 232.37, "distance_km": 0.4750978411374034}, {"lat": 39.866037368774414, "lon": -86.03644609451294, "elevation": 232.79, "distance_km": 0.5023146930370358}, {"lat": 39.8659086227417, "lon": -86.0365104675293, "elevation": 233.25, "distance_km": 0.517633994578098}, {"lat": 39.8658013343811, "lon": -86.03653192520142, "elevation": 233.76, "distance_km": 0.5296870876520768}, {"lat": 39.86558675765991, "lon": -86.0364031791687, "elevation": 234.36, "distance_km": 0.5559353190981633}, {"lat": 39.86544728279114, "lon": -86.03626370429993, "elevation": 235.06, "distance_km": 0.575486106534531}, {"lat": 39.865307891741395, "lon": -86.03612422943115, "elevation": 235.93, "distance_km": 0.5950295374933001}, {"lat": 39.86522197723389, "lon": -86.03616714477539, "elevation": 236.68, "distance_km": 0.6052511024939828}, {"lat": 39.86513614654541, "lon": -86.03653192520142, "elevation": 237.25, "distance_km": 0.6378847970199832}, {"lat": 39.865050315856934, "lon": -86.03659629821777, "elevation": 237.99, "distance_km": 0.6488919139439254}, {"lat": 39.865007400512695, "lon": -86.03636026382446, "elevation": 238.89, "distance_km": 0.6696419466969742}, {"lat": 39.86485719680786, "lon": -86.03623151779175, "elevation": 239.81, "distance_km": 0.6896290231771927}, {"lat": 39.86483573913574, "lon": -86.03616714477539, "elevation": 240.63, "distance_km": 0.6956301083060927}, {"lat": 39.86494302749634, "lon": -86.03608131408691, "elevation": 241.31, "distance_km": 0.7096243327558162}, {"lat": 39.86494302749634, "lon": -86.03597402572632, "elevation": 242.05, "distance_km": 0.7188041239168035}, {"lat": 39.8649001121521, "lon": -86.03586673736572, "elevation": 242.81, "distance_km": 0.7291469298602506}, {"lat": 39.86483573913574, "lon": -86.03582382202148, "elevation": 243.45, "distance_km": 0.737182431476658}, {"lat": 39.86460004001856, "lon": -86.03586665354669, "elevation": 244.17, "distance_km": 0.7636079365373681}, {"lat": 39.86436367034912, "lon": -86.03590965270996, "elevation": 244.72, "distance_km": 0.7901091650967278}, {"lat": 39.86421346664429, "lon": -86.03586673736572, "elevation": 245.18, "distance_km": 0.8071860388911823}, {"lat": 39.86406326293945, "lon": -86.03588819503784, "elevation": 245.61, "distance_km": 0.8239642151553089}, {"lat": 39.863856146112084, "lon": -86.03595960885286, "elevation": 246.03, "distance_km": 0.8477587608877671}, {"lat": 39.863649029284716, "lon": -86.03603102266788, "elevation": 246.48, "distance_km": 0.8715533105421572}, {"lat": 39.863440990448, "lon": -86.03610277175903, "elevation": 246.93, "distance_km": 0.8954541705457322}, {"lat": 39.86322641372681, "lon": -86.03608131408691, "elevation": 247.28, "distance_km": 0.9193496931844798}, {"lat": 39.86311912536621, "lon": -86.03601694107056, "elevation": 247.52, "distance_km": 0.9324738887994436}, {"lat": 39.86311912536621, "lon": -86.03593111038208, "elevation": 247.76, "distance_km": 0.9398179161773692}, {"lat": 39.86338692717254, "lon": -86.03582390584052, "elevation": 247.81, "distance_km": 0.9709352076996688}, {"lat": 39.86365556716919, "lon": -86.03571653366089, "elevation": 247.9, "distance_km": 1.002145651829937}, {"lat": 39.863741397857666, "lon": -86.03558778762817, "elevation": 248.07, "distance_km": 1.0167117476480947}, {"lat": 39.863741397857666, "lon": -86.0355019569397, "elevation": 248.25, "distance_km": 1.0240557086853905}, {"lat": 39.86369848251343, "lon": -86.03545904159546, "elevation": 248.42, "distance_km": 1.0300713928895757}, {"lat": 39.863511146977544, "lon": -86.03539089672267, "elevation": 248.67, "distance_km": 1.051673413331417}, {"lat": 39.86346244812012, "lon": -86.03537321090698, "elevation": 248.8, "distance_km": 1.0572883080216329}, {"lat": 39.86337661743164, "lon": -86.03530883789062, "elevation": 248.9, "distance_km": 1.0682954895246524}, {"lat": 39.8633337020874, "lon": -86.03522300720215, "elevation": 248.94, "distance_km": 1.0770498811524036}, {"lat": 39.86331224441528, "lon": -86.03502988815308, "elevation": 248.9, "distance_km": 1.093744767998347}, {"lat": 39.86320495605469, "lon": -86.03487968444824, "elevation": 248.85, "distance_km": 1.111268487308967}, {"lat": 39.863033294677734, "lon": -86.03470802307129, "elevation": 248.77, "distance_km": 1.1353313007542611}, {"lat": 39.863033294677734, "lon": -86.03464365005493, "elevation": 248.56, "distance_km": 1.140839328150478}, {"lat": 39.86319397576153, "lon": -86.0346972104162, "elevation": 248.22, "distance_km": 1.1592592784823046}, {"lat": 39.86335515975952, "lon": -86.03475093841553, "elevation": 247.8, "distance_km": 1.1777368790529295}, {"lat": 39.863483905792236, "lon": -86.03462219238281, "elevation": 247.36, "distance_km": 1.195783960400001}, {"lat": 39.86359119415283, "lon": -86.03492259979248, "elevation": 246.87, "distance_km": 1.2241141351494942}, {"lat": 39.86363410949707, "lon": -86.03496551513672, "elevation": 246.42, "distance_km": 1.2301298227751336}, {"lat": 39.86389118246734, "lon": -86.03504044935107, "elevation": 245.77, "distance_km": 1.2593844047187874}, {"lat": 39.86414909362793, "lon": -86.03511571884155, "elevation": 245.22, "distance_km": 1.288736074202578}, {"lat": 39.864299297332764, "lon": -86.03522300720215, "elevation": 244.83, "distance_km": 1.3077730568978552}, {"lat": 39.86442804336548, "lon": -86.03522300720215, "elevation": 244.55, "distance_km": 1.3220679899007466}, {"lat": 39.86459970474243, "lon": -86.03498697280884, "elevation": 244.44, "distance_km": 1.3498374903269001}, {"lat": 39.86464262008667, "lon": -86.03490114212036, "elevation": 244.4, "distance_km": 1.3585917692973792}, {"lat": 39.86454589292407, "lon": -86.03471850045025, "elevation": 244.48, "distance_km": 1.377553683687089}, {"lat": 39.8644495010376, "lon": -86.03453636169434, "elevation": 244.62, "distance_km": 1.3964590693597385}, {"lat": 39.86432067118585, "lon": -86.03436461649835, "elevation": 244.82, "distance_km": 1.416966458792294}, {"lat": 39.86419200897217, "lon": -86.03419303894043, "elevation": 245.05, "distance_km": 1.437450606798527}, {"lat": 39.86395597457886, "lon": -86.0342788696289, "elevation": 245.26, "distance_km": 1.4646675094914507}, {"lat": 39.86391305923462, "lon": -86.0342788696289, "elevation": 245.51, "distance_km": 1.4694324868052804}, {"lat": 39.86371994018555, "lon": -86.03408575057983, "elevation": 245.93, "distance_km": 1.4965030518692097}, {"lat": 39.86361265182495, "lon": -86.03389263153076, "elevation": 246.31, "distance_km": 1.516873289128269}, {"lat": 39.86361265182495, "lon": -86.0338282585144, "elevation": 246.63, "distance_km": 1.5223812702005302}, {"lat": 39.86365556716919, "lon": -86.03376388549805, "elevation": 246.93, "distance_km": 1.5296643219666812}, {"lat": 39.863784313201904, "lon": -86.03380680084229, "elevation": 247.14, "distance_km": 1.5444233366145421}, {"lat": 39.86391305923462, "lon": -86.03374242782593, "elevation": 247.39, "distance_km": 1.5597426943260553}, {"lat": 39.86414909362793, "lon": -86.03352785110474, "elevation": 247.64, "distance_km": 1.5917412837852287}, {"lat": 39.864277839660645, "lon": -86.0335922241211, "elevation": 247.76, "distance_km": 1.6070606318520706}, {"lat": 39.86443843692541, "lon": -86.03361359797418, "elevation": 247.88, "distance_km": 1.6249856078326101}, {"lat": 39.86459970474243, "lon": -86.03363513946533, "elevation": 248.01, "distance_km": 1.642986112777695}, {"lat": 39.86464262008667, "lon": -86.0334849357605, "elevation": 248.24, "distance_km": 1.656692788034946}, {"lat": 39.86477128230035, "lon": -86.03334546089172, "elevation": 248.44, "distance_km": 1.6753071372935946}, {"lat": 39.8649001121521, "lon": -86.03320598602295, "elevation": 248.59, "distance_km": 1.6939357610718164}, {"lat": 39.86492156982422, "lon": -86.03312015533447, "elevation": 248.74, "distance_km": 1.701656394892546}, {"lat": 39.86483573913574, "lon": -86.03301286697388, "elevation": 248.88, "distance_km": 1.7148885068988342}, {"lat": 39.86459995619953, "lon": -86.03289493359625, "elevation": 249.02, "distance_km": 1.7429453227857297}, {"lat": 39.86436367034912, "lon": -86.03277683258057, "elevation": 249.14, "distance_km": 1.7710594127536354}, {"lat": 39.864256381988525, "lon": -86.03269100189209, "elevation": 249.25, "distance_km": 1.7850536686013927}, {"lat": 39.86415973864496, "lon": -86.03251917287707, "elevation": 249.29, "distance_km": 1.8032552468220127}, {"lat": 39.86406326293945, "lon": -86.03234767913818, "elevation": 249.23, "distance_km": 1.8214226966809586}, {"lat": 39.86380577087402, "lon": -86.03213310241699, "elevation": 249.01, "distance_km": 1.8554001075594007}, {"lat": 39.86364483833313, "lon": -86.03229395113885, "elevation": 249.07, "distance_km": 1.8779545457005056}, {"lat": 39.863483905792236, "lon": -86.03245496749878, "elevation": 249.09, "distance_km": 1.9005177584990611}, {"lat": 39.863290786743164, "lon": -86.03256225585938, "elevation": 249.03, "distance_km": 1.9238426103366635}, {"lat": 39.86311912536621, "lon": -86.03266954421997, "elevation": 249.05, "distance_km": 1.9449980556742417}, {"lat": 39.86284017562866, "lon": -86.03266954421997, "elevation": 248.92, "distance_km": 1.9759704030991183}, {"lat": 39.86266859807074, "lon": -86.03279829025269, "elevation": 248.92, "distance_km": 1.99797676034856}, {"lat": 39.86264705657959, "lon": -86.03273391723633, "elevation": 248.65, "distance_km": 2.0039817065194265}, {"lat": 39.86268997192383, "lon": -86.0324764251709, "elevation": 248.21, "distance_km": 2.0265233123287953}, {"lat": 39.862518310546875, "lon": -86.03224039077759, "elevation": 248.07, "distance_km": 2.0542932156263265}, {"lat": 39.86247539520264, "lon": -86.03211164474487, "elevation": 247.83, "distance_km": 2.066295729976255}, {"lat": 39.86247539520264, "lon": -86.03206872940063, "elevation": 247.52, "distance_km": 2.0699677779788797}, {"lat": 39.86256122589111, "lon": -86.03204727172852, "elevation": 247.16, "distance_km": 2.0796729812554093}, {"lat": 39.862700616940856, "lon": -86.03218666277826, "elevation": 246.7, "distance_km": 2.0992123183178126}, {"lat": 39.86284017562866, "lon": -86.03232622146606, "elevation": 246.31, "distance_km": 2.118775139820033}, {"lat": 39.863033294677734, "lon": -86.03234767913818, "elevation": 246.0, "distance_km": 2.140295995018757}, {"lat": 39.86316204071045, "lon": -86.03224039077759, "elevation": 245.7, "distance_km": 2.1572847589794155}, {"lat": 39.863247871398926, "lon": -86.03200435638428, "elevation": 245.52, "distance_km": 2.179616361093126}, {"lat": 39.863440990448, "lon": -86.03183269500732, "elevation": 245.36, "distance_km": 2.20560701086706}, {"lat": 39.86356973648071, "lon": -86.03166103363037, "elevation": 245.28, "distance_km": 2.2261029027033574}, {"lat": 39.86356973648071, "lon": -86.0315752029419, "elevation": 245.31, "distance_km": 2.2334468820416036}, {"lat": 39.863483905792236, "lon": -86.03148937225342, "elevation": 245.46, "distance_km": 2.245478262765874}, {"lat": 39.86341953277588, "lon": -86.03127479553223, "elevation": 245.72, "distance_km": 2.2651804230415005}, {"lat": 39.86335515975952, "lon": -86.03121042251587, "elevation": 245.97, "distance_km": 2.2742039652542942}, {"lat": 39.863247871398926, "lon": -86.03114604949951, "elevation": 246.31, "distance_km": 2.2873281567910375}, {"lat": 39.86311912536621, "lon": -86.03093147277832, "elevation": 246.65, "distance_km": 2.310596945099966}, {"lat": 39.86314058303833, "lon": -86.03088855743408, "elevation": 246.94, "distance_km": 2.314974150938089}, {"lat": 39.86331224441528, "lon": -86.03095293045044, "elevation": 247.16, "distance_km": 2.3348139656431965}, {"lat": 39.86339807510376, "lon": -86.03088855743408, "elevation": 247.43, "distance_km": 2.345821149629402}, {"lat": 39.863440990448, "lon": -86.03071689605713, "elevation": 247.75, "distance_km": 2.3612627193565836}, {"lat": 39.863440990448, "lon": -86.03052377700806, "elevation": 248.16, "distance_km": 2.377786703750391}, {"lat": 39.863269329071045, "lon": -86.03039503097534, "elevation": 248.65, "distance_km": 2.3998010717214187}, {"lat": 39.86309766769409, "lon": -86.0301160812378, "elevation": 249.15, "distance_km": 2.4303455418143587}, {"lat": 39.86285090446472, "lon": -86.02986931800842, "elevation": 249.56, "distance_km": 2.464935862696754}, {"lat": 39.86260414123535, "lon": -86.02962255477905, "elevation": 249.97, "distance_km": 2.499526228816472}, {"lat": 39.86256122589111, "lon": -86.02925777435303, "elevation": 250.28, "distance_km": 2.5311002114322574}, {"lat": 39.86236810684204, "lon": -86.02893590927124, "elevation": 250.53, "distance_km": 2.5660036190136726}, {"lat": 39.86236810684204, "lon": -86.02865695953369, "elevation": 250.66, "distance_km": 2.589871968203558}, {"lat": 39.86247539520264, "lon": -86.02850675582886, "elevation": 250.81, "distance_km": 2.6073958008469704}, {"lat": 39.86271142959595, "lon": -86.0283350944519, "elevation": 250.95, "distance_km": 2.6374385777303897}, {"lat": 39.86284017562866, "lon": -86.02814197540283, "elevation": 250.99, "distance_km": 2.659287887347194}, {"lat": 39.863011837005615, "lon": -86.02803468704224, "elevation": 251.03, "distance_km": 2.680443347987369}, {"lat": 39.86316204071045, "lon": -86.027991771698, "elevation": 251.07, "distance_km": 2.697520232170038}, {"lat": 39.86341953277588, "lon": -86.02820634841919, "elevation": 251.12, "distance_km": 2.731497733080658}, {"lat": 39.863505363464355, "lon": -86.02818489074707, "elevation": 251.13, "distance_km": 2.741202933123875}, {"lat": 39.863505363464355, "lon": -86.02814197540283, "elevation": 251.14, "distance_km": 2.744874926224418}, {"lat": 39.86339807510376, "lon": -86.0278844833374, "elevation": 251.11, "distance_km": 2.769921168201751}, {"lat": 39.86339807510376, "lon": -86.02769136428833, "elevation": 251.11, "distance_km": 2.786445162889791}, {"lat": 39.86356973648071, "lon": -86.02741241455078, "elevation": 251.08, "distance_km": 2.816989552264641}, {"lat": 39.863698398694396, "lon": -86.02729439735413, "elevation": 251.19, "distance_km": 2.8344837773141314}, {"lat": 39.86382722854614, "lon": -86.02717638015747, "elevation": 251.35, "distance_km": 2.8519931943969667}, {"lat": 39.86382722854614, "lon": -86.02689743041992, "elevation": 251.48, "distance_km": 2.875861038029045}, {"lat": 39.86387014389038, "lon": -86.02674722671509, "elevation": 251.65, "distance_km": 2.8895678481968274}, {"lat": 39.864020347595215, "lon": -86.02691888809204, "elevation": 251.87, "distance_km": 2.9117910373677343}, {"lat": 39.86410617828369, "lon": -86.02694034576416, "elevation": 252.05, "distance_km": 2.921496235356249}, {"lat": 39.86412763595581, "lon": -86.02689743041992, "elevation": 252.2, "distance_km": 2.925873397278043}, {"lat": 39.86410617828369, "lon": -86.02668285369873, "elevation": 252.38, "distance_km": 2.944387138141048}, {"lat": 39.86419200897217, "lon": -86.02646827697754, "elevation": 252.49, "distance_km": 2.965072932181461}, {"lat": 39.86421346664429, "lon": -86.02627515792847, "elevation": 252.56, "distance_km": 2.9817676102059933}, {"lat": 39.86419200897217, "lon": -86.02616786956787, "elevation": 252.54, "distance_km": 2.991251629911682}, {"lat": 39.86406326293945, "lon": -86.02595329284668, "elevation": 252.46, "distance_km": 3.0145202211028317}, {"lat": 39.86408472061157, "lon": -86.0258674621582, "elevation": 252.43, "distance_km": 3.0222409396829404}, {"lat": 39.86412763595581, "lon": -86.02580308914185, "elevation": 252.31, "distance_km": 3.029523963157514}, {"lat": 39.86421346664429, "lon": -86.02571725845337, "elevation": 252.12, "distance_km": 3.0415553028296287}, {"lat": 39.864384876564145, "lon": -86.02564224041998, "elevation": 251.87, "distance_km": 3.061640544148375}, {"lat": 39.86455678939819, "lon": -86.02556705474854, "elevation": 251.47, "distance_km": 3.081783276582635}, {"lat": 39.86464262008667, "lon": -86.02554559707642, "elevation": 251.01, "distance_km": 3.091488472732732}, {"lat": 39.864930706098676, "lon": -86.02558675222099, "elevation": 250.39, "distance_km": 3.1236684904303456}, {"lat": 39.86494302749634, "lon": -86.02558851242065, "elevation": 249.83, "distance_km": 3.1250448251983522}, {"lat": 39.86509323120117, "lon": -86.0255241394043, "elevation": 249.15, "distance_km": 3.142608226906057}, {"lat": 39.865243434906006, "lon": -86.02533093653619, "elevation": 248.3, "distance_km": 3.1660901752638093}, {"lat": 39.86539363861084, "lon": -86.02513790130615, "elevation": 247.55, "distance_km": 3.1895620033960577}, {"lat": 39.86562967300415, "lon": -86.02488040924072, "elevation": 246.78, "distance_km": 3.223799494773055}, {"lat": 39.865736961364746, "lon": -86.02481603622437, "elevation": 246.06, "distance_km": 3.236923610836363}, {"lat": 39.865886913612485, "lon": -86.02475174702704, "elevation": 245.23, "distance_km": 3.254458234503358}, {"lat": 39.866037368774414, "lon": -86.02468729019165, "elevation": 244.36, "distance_km": 3.2720503756474204}, {"lat": 39.866230487823486, "lon": -86.02479457855225, "elevation": 243.51, "distance_km": 3.2953750927918932}, {"lat": 39.86638069152832, "lon": -86.02479457855225, "elevation": 242.54, "distance_km": 3.312052520227455}, {"lat": 39.86655235290527, "lon": -86.02505207061768, "elevation": 241.73, "distance_km": 3.3411840482815602}, {"lat": 39.86670255661011, "lon": -86.02505207061768, "elevation": 240.98, "distance_km": 3.357861476645269}, {"lat": 39.86685276031494, "lon": -86.02488040924072, "elevation": 240.12, "distance_km": 3.3800842727825726}, {"lat": 39.866981506347656, "lon": -86.0246229171753, "elevation": 239.22, "distance_km": 3.4063464967403956}, {"lat": 39.86719608306885, "lon": -86.02460145950317, "elevation": 238.65, "distance_km": 3.430242027114972}, {"lat": 39.8673783056438, "lon": -86.02446206845343, "elevation": 238.08, "distance_km": 3.4537279642016023}, {"lat": 39.86756086349487, "lon": -86.02432250976562, "elevation": 237.6, "distance_km": 3.477253239666485}, {"lat": 39.86764669418335, "lon": -86.02434396743774, "elevation": 237.33, "distance_km": 3.4869584255310757}, {"lat": 39.86764669418335, "lon": -86.02442979812622, "elevation": 237.2, "distance_km": 3.4943019702038667}, {"lat": 39.86762523651123, "lon": -86.0245156288147, "elevation": 237.17, "distance_km": 3.502022328007281}, {"lat": 39.867485677823424, "lon": -86.02470874786377, "elevation": 237.28, "distance_km": 3.524674474330102}, {"lat": 39.86734628677368, "lon": -86.02490186691284, "elevation": 237.52, "distance_km": 3.547313916286164}, {"lat": 39.86730337142944, "lon": -86.02528810501099, "elevation": 237.72, "distance_km": 3.580701790149597}, {"lat": 39.867260456085205, "lon": -86.02543830871582, "elevation": 237.87, "distance_km": 3.5944080006966086}, {"lat": 39.86711025238037, "lon": -86.02557769976556, "elevation": 238.12, "distance_km": 3.614910931382637}, {"lat": 39.86696004867554, "lon": -86.02571725845337, "elevation": 238.33, "distance_km": 3.635422223219927}, {"lat": 39.866981506347656, "lon": -86.02580308914185, "elevation": 238.36, "distance_km": 3.6431426483997664}, {"lat": 39.86721754074097, "lon": -86.02571725845337, "elevation": 238.19, "distance_km": 3.670359477260819}, {"lat": 39.86734628677368, "lon": -86.02571725845337, "elevation": 238.11, "distance_km": 3.684654417476806}, {"lat": 39.86745357513428, "lon": -86.02578163146973, "elevation": 238.11, "distance_km": 3.6977784791422703}, {"lat": 39.867496490478516, "lon": -86.02567434310913, "elevation": 238.07, "distance_km": 3.7081209840217713}, {"lat": 39.867496490478516, "lon": -86.02543830871582, "elevation": 237.94, "distance_km": 3.7283157759122383}, {"lat": 39.867517948150635, "lon": -86.02533102035522, "elevation": 237.92, "distance_km": 3.7377993696950056}, {"lat": 39.8676682356745, "lon": -86.02505894377828, "elevation": 237.75, "distance_km": 3.7664408587466216}, {"lat": 39.8678186070174, "lon": -86.02478695102036, "elevation": 237.69, "distance_km": 3.7950819026703555}, {"lat": 39.86796855926514, "lon": -86.0245156288147, "elevation": 237.65, "distance_km": 3.823649164987762}, {"lat": 39.86811876296997, "lon": -86.02438688278198, "elevation": 237.78, "distance_km": 3.843635974718615}, {"lat": 39.868247509002686, "lon": -86.02436542510986, "elevation": 238.03, "distance_km": 3.858048323763189}, {"lat": 39.8683762550354, "lon": -86.02442979812622, "elevation": 238.33, "distance_km": 3.873367563458984}, {"lat": 39.86849435605109, "lon": -86.02463372983038, "elevation": 238.82, "distance_km": 3.8951936890648873}, {"lat": 39.86861228942871, "lon": -86.02483749389648, "elevation": 239.25, "distance_km": 3.916997143534943}, {"lat": 39.86863374710083, "lon": -86.02494478225708, "elevation": 239.65, "distance_km": 3.926480593494069}, {"lat": 39.86861228942871, "lon": -86.02511644363403, "elevation": 240.04, "distance_km": 3.9413594623828754}, {"lat": 39.86844062805176, "lon": -86.02528810501099, "elevation": 240.56, "distance_km": 3.9654215861574826}, {"lat": 39.86841917037964, "lon": -86.02537393569946, "elevation": 240.88, "distance_km": 3.973141863545291}, {"lat": 39.86841917037964, "lon": -86.02545976638794, "elevation": 241.17, "distance_km": 3.9804853258562094}, {"lat": 39.86843886785209, "lon": -86.02552279829979, "elevation": 241.44, "distance_km": 3.9863047823523994}, {"lat": 39.868526458740234, "lon": -86.02580308914185, "elevation": 241.58, "distance_km": 4.012182773750957}, {"lat": 39.868526458740234, "lon": -86.02591037750244, "elevation": 241.83, "distance_km": 4.0213620873405365}, {"lat": 39.8683762550354, "lon": -86.02618932723999, "elevation": 242.17, "distance_km": 4.050477963916704}, {"lat": 39.86833333969116, "lon": -86.02657556533813, "elevation": 242.45, "distance_km": 4.083865348789827}, {"lat": 39.868290424346924, "lon": -86.02683305740356, "elevation": 242.7, "distance_km": 4.1064051913727795}, {"lat": 39.868290424346924, "lon": -86.02704763412476, "elevation": 242.86, "distance_km": 4.124763881467752}, {"lat": 39.868247509002686, "lon": -86.02724075317383, "elevation": 242.93, "distance_km": 4.141960067951121}, {"lat": 39.86816167831421, "lon": -86.02739095687866, "elevation": 243.03, "distance_km": 4.157959159077818}, {"lat": 39.86818313598633, "lon": -86.02749824523926, "elevation": 242.97, "distance_km": 4.167442667119957}, {"lat": 39.86820459365845, "lon": -86.02749824523926, "elevation": 242.8, "distance_km": 4.169825157531253}, {"lat": 39.8683762550354, "lon": -86.02730512619019, "elevation": 242.56, "distance_km": 4.195049834034719}, {"lat": 39.86846216954291, "lon": -86.02702567353845, "elevation": 242.21, "distance_km": 4.220791849193438}, {"lat": 39.86854791641235, "lon": -86.02674722671509, "elevation": 241.78, "distance_km": 4.246447014136437}, {"lat": 39.86869812011719, "lon": -86.0265326499939, "elevation": 241.37, "distance_km": 4.271249736883123}, {"lat": 39.86880540847778, "lon": -86.02651119232178, "elevation": 240.98, "distance_km": 4.28330282409233}, {"lat": 39.86891269683838, "lon": -86.02657556533813, "elevation": 240.47, "distance_km": 4.296426839523462}, {"lat": 39.86895561218262, "lon": -86.02691888809204, "elevation": 239.99, "distance_km": 4.326184446357259}, {"lat": 39.869041442871094, "lon": -86.02704763412476, "elevation": 239.48, "distance_km": 4.340749906874756}, {"lat": 39.869180750101805, "lon": -86.02715483866632, "elevation": 238.92, "distance_km": 4.358732473462399}, {"lat": 39.86932039260864, "lon": -86.02726221084595, "elevation": 238.45, "distance_km": 4.376754367621858}, {"lat": 39.86929893493652, "lon": -86.02739095687866, "elevation": 238.15, "distance_km": 4.388024133027895}, {"lat": 39.869277477264404, "lon": -86.02745532989502, "elevation": 237.85, "distance_km": 4.394024892897062}, {"lat": 39.86929893493652, "lon": -86.02751970291138, "elevation": 237.56, "distance_km": 4.40002565276623}, {"lat": 39.86934185028076, "lon": -86.02756261825562, "elevation": 237.27, "distance_km": 4.406041158393995}, {"lat": 39.86944913864136, "lon": -86.02756261825562, "elevation": 236.98, "distance_km": 4.417953612927912}, {"lat": 39.86966371536255, "lon": -86.0273265838623, "elevation": 236.52, "distance_km": 4.449185512461438}, {"lat": 39.86970663070679, "lon": -86.02734804153442, "elevation": 236.4, "distance_km": 4.454291913588994}, {"lat": 39.8698353767395, "lon": -86.02758407592773, "elevation": 236.33, "distance_km": 4.47903354197991}, {"lat": 39.86985683441162, "lon": -86.0277771949768, "elevation": 236.4, "distance_km": 4.49572688039941}, {"lat": 39.8698353767395, "lon": -86.02790594100952, "elevation": 236.64, "distance_km": 4.506996561994895}, {"lat": 39.86970663070679, "lon": -86.02824926376343, "elevation": 236.93, "distance_km": 4.539663588806361}, {"lat": 39.86959934234619, "lon": -86.02837800979614, "elevation": 237.18, "distance_km": 4.555888160465641}, {"lat": 39.869384765625, "lon": -86.02842092514038, "elevation": 237.51, "distance_km": 4.579994331889457}, {"lat": 39.86910581588745, "lon": -86.02835655212402, "elevation": 237.97, "distance_km": 4.611452578468055}, {"lat": 39.86895561218262, "lon": -86.02837800979614, "elevation": 238.48, "distance_km": 4.628230754488849}, {"lat": 39.8689341545105, "lon": -86.0284423828125, "elevation": 238.94, "distance_km": 4.63423153949863}, {"lat": 39.868998527526855, "lon": -86.02857112884521, "elevation": 239.28, "distance_km": 4.6473623779306354}, {"lat": 39.868977069854736, "lon": -86.02863550186157, "elevation": 239.73, "distance_km": 4.653363159798724}, {"lat": 39.86884832382202, "lon": -86.02874279022217, "elevation": 240.4, "distance_km": 4.6703515171035885}, {"lat": 39.868741035461426, "lon": -86.02874279022217, "elevation": 240.85, "distance_km": 4.682263970399852}, {"lat": 39.86865520477295, "lon": -86.02880716323853, "elevation": 241.26, "distance_km": 4.693270948227949}, {"lat": 39.86867666244507, "lon": -86.02882862091064, "elevation": 241.57, "distance_km": 4.696278711476951}, {"lat": 39.868741035461426, "lon": -86.028892993927, "elevation": 241.84, "distance_km": 4.705301999168193}, {"lat": 39.86890163272619, "lon": -86.02891436778009, "elevation": 241.94, "distance_km": 4.7232269767504045}, {"lat": 39.86906290054321, "lon": -86.02893590927124, "elevation": 241.94, "distance_km": 4.74122748321589}, {"lat": 39.86912727355957, "lon": -86.02897882461548, "elevation": 242.02, "distance_km": 4.749262886506495}, {"lat": 39.86914873123169, "lon": -86.0291075706482, "elevation": 242.18, "distance_km": 4.7605326787317646}, {"lat": 39.86910581588745, "lon": -86.02938652038574, "elevation": 242.54, "distance_km": 4.7848697152449295}, {"lat": 39.86936330795288, "lon": -86.02938652038574, "elevation": 242.33, "distance_km": 4.813459605330306}, {"lat": 39.86940622329712, "lon": -86.0294508934021, "elevation": 242.29, "distance_km": 4.820742312439526}, {"lat": 39.86942768096924, "lon": -86.0297841578722, "elevation": 242.4, "distance_km": 4.849354552072057}, {"lat": 39.86944913864136, "lon": -86.0301160812378, "elevation": 242.3, "distance_km": 4.877852443026718}, {"lat": 39.869534969329834, "lon": -86.03043794631958, "elevation": 242.07, "distance_km": 4.906992400610108}, {"lat": 39.869534969329834, "lon": -86.03065252304077, "elevation": 242.13, "distance_km": 4.925350758963609}, {"lat": 39.86944913864136, "lon": -86.03069543838501, "elevation": 242.46, "distance_km": 4.935563564621997}, {"lat": 39.869277477264404, "lon": -86.03063106536865, "elevation": 242.98, "distance_km": 4.955403262528361}, {"lat": 39.869234561920166, "lon": -86.03063106536865, "elevation": 243.25, "distance_km": 4.960168244226445}, {"lat": 39.86919164657593, "lon": -86.03069543838501, "elevation": 243.5, "distance_km": 4.9674509616250875}, {"lat": 39.86917018890381, "lon": -86.03093147277832, "elevation": 243.58, "distance_km": 4.98778531517471}, {"lat": 39.86908435821533, "lon": -86.0310173034668, "elevation": 243.84, "distance_km": 4.999816338746498}, {"lat": 39.868783950805664, "lon": -86.03093147277832, "elevation": 244.36, "distance_km": 5.033970006005003}, {"lat": 39.86854791641235, "lon": -86.0310173034668, "elevation": 244.54, "distance_km": 5.06118679663872}, {"lat": 39.86844062805176, "lon": -86.03097438812256, "elevation": 244.69, "distance_km": 5.073652273327351}, {"lat": 39.86839771270752, "lon": -86.03084564208984, "elevation": 244.86, "distance_km": 5.085653920342965}, {"lat": 39.86844062805176, "lon": -86.03067398071289, "elevation": 245.08, "distance_km": 5.10109447729067}, {"lat": 39.86844062805176, "lon": -86.03035136125982, "elevation": 245.11, "distance_km": 5.128696994506275}, {"lat": 39.86844062805176, "lon": -86.03003025054932, "elevation": 244.97, "distance_km": 5.156170427463663}, {"lat": 39.868290424346924, "lon": -86.02977275848389, "elevation": 244.62, "distance_km": 5.183801487675131}, {"lat": 39.86818313598633, "lon": -86.02968692779541, "elevation": 244.21, "distance_km": 5.197795530710193}, {"lat": 39.86816167831421, "lon": -86.02981567382812, "elevation": 243.69, "distance_km": 5.209065473791615}, {"lat": 39.868226051330566, "lon": -86.03005170822144, "elevation": 243.16, "distance_km": 5.2304876050104285}, {"lat": 39.868204509839416, "lon": -86.030298974365, "elevation": 242.46, "distance_km": 5.251777926092315}, {"lat": 39.86818313598633, "lon": -86.03054523468018, "elevation": 241.73, "distance_km": 5.272980652806861}, {"lat": 39.8680221196264, "lon": -86.03077062405646, "elevation": 240.76, "distance_km": 5.299276833920787}, {"lat": 39.86786127090454, "lon": -86.03099584579468, "elevation": 239.77, "distance_km": 5.325549875429748}, {"lat": 39.86788272857666, "lon": -86.03121042251587, "elevation": 238.98, "distance_km": 5.344062623931669}, {"lat": 39.868011474609375, "lon": -86.03133916854858, "elevation": 238.31, "distance_km": 5.362109272184317}, {"lat": 39.86809730529785, "lon": -86.03159666061401, "elevation": 237.46, "distance_km": 5.386112673069549}, {"lat": 39.86820459365845, "lon": -86.03170394897461, "elevation": 236.71, "distance_km": 5.401151530363212}, {"lat": 39.8683762550354, "lon": -86.03174686431885, "elevation": 236.02, "distance_km": 5.42056189739072}, {"lat": 39.86844062805176, "lon": -86.03174686431885, "elevation": 235.39, "distance_km": 5.427709368890404}, {"lat": 39.86869812011719, "lon": -86.03159666061401, "elevation": 234.92, "distance_km": 5.459054713445372}, {"lat": 39.868741035461426, "lon": -86.03163957595825, "elevation": 234.26, "distance_km": 5.465070238231944}, {"lat": 39.86871957778931, "lon": -86.03176832199097, "elevation": 233.55, "distance_km": 5.476340094152982}, {"lat": 39.868741035461426, "lon": -86.03185415267944, "elevation": 232.97, "distance_km": 5.484060341112632}, {"lat": 39.868783950805664, "lon": -86.03193998336792, "elevation": 232.46, "distance_km": 5.492814251541356}, {"lat": 39.86886978149414, "lon": -86.03200435638428, "elevation": 232.03, "distance_km": 5.503821224401314}, {"lat": 39.868998527526855, "lon": -86.03198289871216, "elevation": 231.67, "distance_km": 5.518233572736952}, {"lat": 39.86906290054321, "lon": -86.0319185256958, "elevation": 231.42, "distance_km": 5.5272568450341195}, {"lat": 39.86912727355957, "lon": -86.03185415267944, "elevation": 231.19, "distance_km": 5.536280114252046}, {"lat": 39.86919164657593, "lon": -86.03163957595825, "elevation": 231.08, "distance_km": 5.555980859382914}, {"lat": 39.869384765625, "lon": -86.0315752029419, "elevation": 230.63, "distance_km": 5.578119290579039}, {"lat": 39.86944913864136, "lon": -86.03151082992554, "elevation": 230.48, "distance_km": 5.587142544401478}, {"lat": 39.869492053985596, "lon": -86.03153228759766, "elevation": 230.33, "distance_km": 5.592248947420996}, {"lat": 39.869492053985596, "lon": -86.03166103363037, "elevation": 230.22, "distance_km": 5.603263969296801}, {"lat": 39.86938468180597, "lon": -86.0318112373352, "elevation": 230.17, "distance_km": 5.620793179820727}, {"lat": 39.869277477264404, "lon": -86.03196144104004, "elevation": 230.17, "distance_km": 5.638309751195804}, {"lat": 39.86909148283303, "lon": -86.03218314237893, "elevation": 230.27, "distance_km": 5.666350148791098}, {"lat": 39.86890548840165, "lon": -86.03240492753685, "elevation": 230.26, "distance_km": 5.694395432095006}, {"lat": 39.86871957778931, "lon": -86.03262662887573, "elevation": 230.33, "distance_km": 5.722429044548269}, {"lat": 39.86859083175659, "lon": -86.03294849395752, "elevation": 230.46, "distance_km": 5.753456141728624}, {"lat": 39.86841917037964, "lon": -86.03320598602295, "elevation": 230.55, "distance_km": 5.782587181082346}, {"lat": 39.86839771270752, "lon": -86.03333473205566, "elevation": 230.53, "distance_km": 5.793857087288119}, {"lat": 39.86844062805176, "lon": -86.0334849357605, "elevation": 230.4, "distance_km": 5.807563099200019}, {"lat": 39.868505001068115, "lon": -86.03361368179321, "elevation": 230.28, "distance_km": 5.820694003513612}, {"lat": 39.86850508488715, "lon": -86.03361368179321, "elevation": 230.08, "distance_km": 5.820703310116146}, {"lat": 39.86863374710083, "lon": -86.03374242782593, "elevation": 229.72, "distance_km": 5.838742527847329}, {"lat": 39.8688268661499, "lon": -86.0340428352356, "elevation": 229.32, "distance_km": 5.872214457827333}, {"lat": 39.86895561218262, "lon": -86.03412866592407, "elevation": 228.25, "distance_km": 5.888285273891095}, {"lat": 39.869041442871094, "lon": -86.03397846221924, "elevation": 228.16, "distance_km": 5.904284246807905}, {"lat": 39.86919164657593, "lon": -86.03384971618652, "elevation": 228.14, "distance_km": 5.924270964553958}];
    const coordinates = trailData.map(pt => [pt.lon, pt.lat]);
    const elevationData = trailData.map(pt => pt.elevation);
    const distanceData = trailData.map(pt => pt.distance_km.toFixed(2));

    const map = new maplibregl.Map({
        container: 'map',
        style: 'https://api.maptiler.com/maps/streets/style.json?key=16FnGLzaCOfZ3QOhSAbg',
        center: coordinates[0],
        zoom: 14
    });

    map.on('load', () => {
        map.addSource('trail', {
            'type': 'geojson',
            'data': {
                'type': 'Feature',
                'geometry': {
                    'type': 'LineString',
                    'coordinates': coordinates
                }
            }
        });

        map.addLayer({
            'id': 'trail-line',
            'type': 'line',
            'source': 'trail',
            'layout': {
                'line-join': 'round',
                'line-cap': 'round'
            },
            'paint': {
                'line-color': '#ff7e5f',
                'line-width': 3
            }
        });

        const startPopup = new maplibregl.Popup({ offset: 25 }).setText('Start');

        const startMarker = new maplibregl.Marker({
            color: 'green',
            scale: 1.2
        })
        .setLngLat(coordinates[0])
        .setPopup(startPopup)
        .addTo(map);

        const hoverMarker = new maplibregl.Marker({ color: '#000' }).setLngLat(coordinates[0]).addTo(map);

        Plotly.newPlot('elevation', [{
            x: distanceData,
            y: elevationData,
            mode: 'lines',
            line: { color: '#5555ff' },
            name: 'Elevation (m)'
        }], {
            margin: { t: 20, b: 40, l: 50, r: 30 },
            xaxis: { title: 'Distance (km)', showgrid: false },
            yaxis: { title: 'Elevation (m)', showgrid: false },
            plot_bgcolor: "#fff",
            paper_bgcolor: "#fff"
        });

        document.getElementById('elevation').on('plotly_hover', (data) => {
            const idx = data.points[0].pointIndex;
            hoverMarker.setLngLat(coordinates[idx]);
        });
    });
</script>

</body>
</html>
